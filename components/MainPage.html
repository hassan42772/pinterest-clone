<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinterest Clone</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

body {
    background-color: #fff;
}

.container {
    display: flex;
    width: 100%;
    height: 100vh;
}

/* Sidebar Styles */
.sidebar {
    width: 70px;
    height: 100%;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 0;
    border-right: 1px solid #efefef;
    position: fixed;
    left: 0;
    top: 0;
  
}

.logo {
    font-size: 24px;
    margin-bottom: 20px;
}

.nav-item {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 15px;
    cursor: pointer;
    position: relative;
  
}

.nav-item:hover {
    background-color: #f0f0f0;
}

.nav-item i {
    font-size: 20px;
    color: #5f5f5f;
}
.settings  {
    height: 40vh;
    border-radius: 10px;  
    display: flex;
    justify-content: center;
    align-items: end;

}

.badge {
    position: absolute;
    top: 0;
    right: 0;
    background-color: #e60023;
    color: white;
    font-size: 10px;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Main Content Styles */
.main-content {
    flex: 1;
    margin-left: 70px;
    padding: 20px;
}

/* Search Bar Styles */
.search-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.search-bar {
    flex: 1;
    background-color: #f0f0f0;
    border-radius: 24px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    max-width: 1200px;
    position: relative;
}

.search-bar i {
    color: #767676;
    position: absolute;
    right: 16px;
    top: 16px;
    
}

.search-bar input {
    border: none;
    background: transparent;
    outline: none;
    width: 100%;
    font-size: 16px;
}

.user-menu {
    display: flex;
    align-items: center;
    margin-left: 15px;
    cursor: pointer;
}

.user-menu span {
    width: 24px;
    height: 24px;
    background-color: #767676;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    margin-right: 5px;
}

/* Tabs Styles */
.tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #efefef;
}

.tab {
    padding: 8px 0;
    margin-right: 24px;
    font-weight: 600;
    cursor: pointer;
    color: #111;
    position: relative;
}

.tab.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 3px;
    background-color: #111;
    border-radius: 3px;
}

/* Pins Grid Styles */
#pinContainer {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
    justify-content: center;
    align-items: center;
    padding: 16px;
    
    
}

.pin {
    border-radius: 16px;
    position: relative;
    width: 200px;
    height: 300px;
    
}

.pin-image {
    position: relative;
    width: 200px;
    height: 300px;
}

.pin-image img {
    width: 200px;
    height: 300px;
    display: block;
    object-fit: cover;
    border-radius: 16px;
}

.pin-overlay {
    position: absolute;
    bottom: 0;
    right: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 6px 5px;
    opacity: 0;
    transition: opacity 0.2s;
    height: 100%;
    
}

.pin:hover .pin-overlay {
    opacity: 1;
   
}

.pin-options {
    align-self: flex-end;
    background-color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    
}

.save-button {
    background-color: #e60023;
    color: white;
    padding: 8px 16px;
    border-radius: 24px;
    font-weight: 600;
    align-self: flex-end;
    cursor: pointer;
}

.pin-actions {
    display: flex;
    justify-content: space-between;
    padding: 8px;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
}

.action-button {
    background-color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

.pin-info {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 12px;
    background: white;
    border-bottom-left-radius: 16px;
    border-bottom-right-radius: 16px;
}

.pin-title {
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pin-creator {
    font-size: 12px;
    color: #767676;
}

.pin-sponsored {
    font-size: 12px;
    color: #767676;
}

.pin-options-button {
    position: absolute;
    top: 8px;
    right: 8px;
    background-color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}
/* Dropdown Menu Styles */
.dropdown-menu {
    background-color: rgb(234, 234, 234);
    border-radius: 16px;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
    width: 300px;
    overflow: hidden;
    position: absolute;
    right: 14px;
    top: 60px;
    display: none;
    border: 1px solid #f0f0f0;
    z-index: 1;
}



.dropdown-header {
    padding: 16px 16px 8px;
    color: #111;
    font-size: 14px;
}

.account-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    cursor: pointer;
    background-color:#c5c4c4;
    border-radius: 16px;
}

.account-item:hover {
    background-color: #f0f0f0;
}

.account-avatar {
    width: 48px;
    height: 48px;
    background-color: #f0f0f0;
    color: #111;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    margin-right: 12px;
    font-size: 28px;
}

.account-info {
    flex: 1;
}

.account-name {
    font-weight: 600;
    font-size: 16px;
    margin-bottom: 2px;
}

.account-type, .account-email {
    font-size: 14px;
    
    margin-bottom: 2px;
}

.account-check {
    color: #111;
}

.dropdownaction-button {
    background-color: #f0f0f0;
    color: #111;
    display: flex;
    align-items: start;
    justify-content: start;
    padding: 4px 16px;
    text-align: start;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    
    
}

.action-button:hover {
    background-color: #e9e9e9;
}

.dropdown-section {
    padding: 16px 16px 8px;
    color: #111;
    font-size: 14px;
    border-top: 1px solid #f0f0f0;
}

.dropdown-item {
    padding: 12px 16px;
    cursor: pointer;
    font-weight: 600;
}

.dropdown-item:hover {
    background-color: #f0f0f0;
}
.logoutBtn {
    
    color: rgb(0, 0, 0);
    padding: 8px 16px;
    border-radius: 24px;
    font-weight: 600;
    align-self: flex-end;
    cursor: pointer;
    border: none;
    outline: none;
}
</style>
<body>
    <div class="container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <i class="fab fa-pinterest" style="color: #e60023;"></i>
            </div>
            <div class="nav-item active">
                <i class="fas fa-home"></i>
            </div>
            <div class="nav-item">
                <i class="fas fa-plus"></i>
            </div>
            <div class="nav-item notification">
                <i class="fas fa-bell"></i>
                <span class="badge">3</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-comment-dots"></i>
            </div>
            <div class="nav-item settings">
                <i class="fas fa-cog"></i>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Search Bar -->
            <div class="search-container">
                <div class="search-bar">
                    <button class="search-button"><i class="fas fa-search"></i></button>
                    <input type="text" placeholder="Search" class="search-box">
                </div>
                
                <div class="user-menu" >
                    <span class="account-avatar-top">R</span>
                    <div class="dropdown-icon" id="accountTrigger">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="dropdown-menu" id="dropdownMenu">
                    <div class="dropdown-header">Currently in</div>
                    
                    <div class="account-item active">
                        <div class="account-avatar">R</div>
                        <div class="account-info">
                            <div class="account-name">Rana Hassan</div>
                            <div class="account-type">Personal</div>
                            <div class="account-email">ranahassan427726@gmail...</div>
                        </div>
                        <div class="account-check">
                            <i class="fas fa-check"></i>
                        </div>
                    </div>
                    
                    <div class="dropdownaction-button">
                        Convert to business
                    </div>
                    
                    <div class="dropdown-section">Your accounts</div>
                    
                    <div class="dropdown-item">
                        Add Pinterest account
                    </div>
                    
                    <div class="dropdown-item">
                       <button class="logoutBtn"> Log out</button>
                    </div>
                </div>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <div class="tab active">All</div>
                <div class="tab">My Saves</div>
            </div>

            <!-- Pins Grid -->
            <div id="pinContainer"></div>
        </div>
    </div>

    
</body>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    // Tab switching functionality
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(tab => {
        tab.addEventListener('click', function() {
            tabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
        });
    });

    // Save button hover effect
    const pins = document.querySelectorAll('.pin');
    pins.forEach(pin => {
        pin.addEventListener('mouseenter', function() {
            const overlay = this.querySelector('.pin-overlay');
            if (overlay) {
                overlay.style.opacity = '1';
            }
        });
        
        pin.addEventListener('mouseleave', function() {
            const overlay = this.querySelector('.pin-overlay');
            if (overlay) {
                overlay.style.opacity = '0';
            }
        });
    }); 
   
});
document.addEventListener('DOMContentLoaded', function() {
    const accountTrigger = document.getElementById('accountTrigger');
    const dropdownMenu = document.getElementById('dropdownMenu');
    
    // Toggle dropdown when clicking the trigger
    accountTrigger.addEventListener('click', function() {
        dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        if (!accountTrigger.contains(event.target) && !dropdownMenu.contains(event.target)) {
            dropdownMenu.style.display = 'none';
        }
    });
    
    // Prevent dropdown from closing when clicking inside it
    dropdownMenu.addEventListener('click', function(event) {
        event.stopPropagation();
    });
    
    
    
});

let gallery = document.querySelector("#pinContainer");
let searchbox = document.querySelector(".search-box");
let searchButton = document.querySelector(".search-button");
let accountname = document.querySelector(".account-name");
let accountemail = document.querySelector(".account-email");
let avatar = document.querySelector(".account-avatar");
let headerAvatar = document.querySelector(".account-avatar-top");
console.log(searchButton);
let page = 1;
searchButton.addEventListener("click", () => {   
        page = 1;
        gallery.innerHTML = "";
        fetchImages();
        console.log("clicked"); 
    });


    let Accesskey = "5sl50p7QQ7GgqXdbarz16qBK1ZHtJ25r9th7dbAK_XM";
    let keyword = "";
    let NumberOfImages = 20;
    searchbox.value = "car";
async function fetchImages() {
    keyword = searchbox.value.trim();
    let url = `https://api.unsplash.com/search/photos?page=${page}&query=${keyword}&client_id=${Accesskey}&per_page=${NumberOfImages}`;
    try {
        const response = await fetch(url); // Replace with your API URL
        const data = await response.json();
        let results = data.results;
        console.log(results);
        const container = document.getElementById("pinContainer"); // Target container

        results.forEach(photo => {
            // Create the `pin` div
            const pin = document.createElement("div");
            pin.classList.add("pin");

            // Create the `pin-image` div
            const pinImage = document.createElement("div");
            pinImage.classList.add("pin-image");

            // Create and set image
            const img = document.createElement("img");
            img.src = photo.urls.small; // Adjust based on your API response
            img.alt = "Product Image";

            // Create `pin-overlay`
            const pinOverlay = document.createElement("div");
            pinOverlay.classList.add("pin-overlay");
          

            // Create `pin-options`
            const pinOptions = document.createElement("div");
            pinOptions.classList.add("pin-options");
            pinOptions.innerHTML = `<i class="fas fa-ellipsis-h"></i>`;
           
           

            // Create Save Button
            const saveButton = document.createElement("div");
            saveButton.classList.add("save-button");
            saveButton.textContent = "Save";

            // Append overlay elements
            pinOverlay.appendChild(pinOptions);
            pinOverlay.appendChild(saveButton);

            // Append everything inside `pin-image`
            pinImage.appendChild(img);
            pinImage.appendChild(pinOverlay);

            // Create `pin-actions`
            const pinActions = document.createElement("div");
            pinActions.classList.add("pin-actions");

            // Create `action-button`
            const actionButton = document.createElement("div");
            actionButton.classList.add("action-button");
            actionButton.innerHTML = `<i class="fas fa-arrow-down"></i>`;
           

            pinActions.appendChild(actionButton);

            // Append all to `pin`
            pin.appendChild(pinImage);
            pin.appendChild(pinActions);

            // Append `pin` to container
            container.appendChild(pin);
        });
    } catch (error) {
        console.error("Error fetching images:", error);
    }
}

// Call function on page load
fetchImages();

window.addEventListener("scroll", () => {
    const scrollPosition = window.scrollY + window.innerHeight; // Current scroll position + viewport height
    const totalHeight = document.documentElement.scrollHeight; // Total document height

    if (scrollPosition >= totalHeight - 1) { // If scrolled to the bottom
        page++;
        fetchImages();
    }
});

const userData = JSON.parse(localStorage.getItem("user"));


// if (!userData) {
//     window.location.href = "pinterest.html";
// }
 
 
    accountname.textContent = userData.username;
    accountemail.textContent = userData.email;
    avatar.textContent = userData.username[0];
    headerAvatar.textContent = userData.username[0];


    

let logoutbtn = document.querySelector(".logoutBtn");

// Logout function
logoutbtn.addEventListener("click", function() {
    // localStorage.removeItem("user"); 
    window.location.href = "pinterest.html"; 
});
</script>
</html>